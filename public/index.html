<html>

<head>
	<style>
		@font-face {
			font-family: 'LacreanEmpire';
			src: url('/static/LacreanEmpire.ttf');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {
			font-family: 'RetroGaming';
			src: url('/static/RetroGaming.ttf');
			font-weight: normal;
			font-style: normal;
		}

		.fonttext {
			font-family: LacreanEmpire !important;
			font-weight: bold;
		}

		.fontfun {
			font-size: 50px;
		}

		body {
			font-family: RetroGaming;
			background-color: #667;
			padding: 10px;
		}

		.instructions {
			font-size: 30px;
			font-weight: bold;
		}

		.toppart {
			border-bottom: 1px solid black;
			margin-bottom: 10px;
		}

		#output {
			background-color: white;
			margin: 10px;
			padding: 5px;
			width: fit-content;
		}

		#sayit {
			width: 100%;
		}

		#imgr {
			margin: 10px;
			padding: 5px;
		}
	</style>
	<script src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<script src="/static/html2canvas.js"></script>
	<script src="/static/spectrum.js"></script>
	<link rel='stylesheet' href='/static/spectrum.css' />
</head>

<body>
	<div class="fonttext fontfun toppart">
		Hello World!
	</div>
	<div class="instructions">Tell me about yourself...</div>
	<textarea id="sayit" type="text" onkeyup="updateData()"></textarea>
	<div class="instructions">And I'll translate it to Lacrean:</div>
	<div id="output" class="fonttext fontfun"> </div>
	<div>Text Color:<input id="pickcolor" /></div>
	<div>Background Color:<input id="pickbackcolor" /></div>
	<div class="instructions">Here is an image of it:</div>
	<div id="imgr" class="fonttext fontfun"> </div>
	<script>
		let timeCheck = null;
		function updateData() {
			let user = $("#sayit").val();
			$("#output").html(user)
			clearTimeout(timeCheck);
			timeCheck = setTimeout(screenshot, 250);
		}

		function screenshot() {
			html2canvas($("#output")[0]).then(function (canvas) {
				$("canvas").remove();
				$("#imgr").append(canvas);
			});
		}

		$("#pickcolor").spectrum({
			color: "#000"
		});

		$("#pickcolor").change(() => {
			let textColor = $("#pickcolor").val();
			$("#output").css({
				"color": textColor
			});
			updateData();
		})

		$("#pickbackcolor").spectrum({
			color: "#fff"
		});

		$("#pickbackcolor").change(() => {
			let textColor = $("#pickbackcolor").val();
			$("#output").css({
				"background-color": textColor
			});
			updateData();
		})
	</script>
</body>

</html>